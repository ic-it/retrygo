<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# retrygo

```go
import "github.com/ic-it/retrygo"
```

## Index

- [type Retry](<#Retry>)
  - [func New\[RT any\]\(policy RetryPolicy\) Retry\[RT\]](<#New>)
- [type RetryInfo](<#RetryInfo>)
- [type RetryPolicy](<#RetryPolicy>)
  - [func Combine\(policies ...RetryPolicy\) RetryPolicy](<#Combine>)
  - [func Constant\(interval time.Duration\) RetryPolicy](<#Constant>)
  - [func Exponential\(interval time.Duration\) RetryPolicy](<#Exponential>)
  - [func Jitter\(interval time.Duration\) RetryPolicy](<#Jitter>)
  - [func LimitCount\(count int\) RetryPolicy](<#LimitCount>)
  - [func LimitTime\(limit time.Duration\) RetryPolicy](<#LimitTime>)
  - [func Linear\(interval time.Duration\) RetryPolicy](<#Linear>)


<a name="Retry"></a>
## type Retry

Retry is the interface that wraps the Do method.

```go
type Retry[RT any] interface {
    // Do calls the given function f until it returns nil or the context is done.
    Do(ctx context.Context, f func(context.Context) (RT, error)) (RT, error)
}
```

<a name="New"></a>
### func New

```go
func New[RT any](policy RetryPolicy) Retry[RT]
```

New creates a new Retry instance with the given RetryPolicy and configurers.

<a name="RetryInfo"></a>
## type RetryInfo

RetryInfo contains information about the retry

```go
type RetryInfo struct {
    Fails int       // Fails is the number of retries
    Err   error     // Err is the error returned by the function
    Since time.Time // Since is the time when the retry started
}
```

<a name="RetryPolicy"></a>
## type RetryPolicy

RetryPolicy is a function that returns a retry strategy based on the RetryInfo

```go
type RetryPolicy func(RetryInfo) (continueRetry bool, sleep time.Duration)
```

<a name="Combine"></a>
### func Combine

```go
func Combine(policies ...RetryPolicy) RetryPolicy
```

Combine returns a RetryPolicy that combines multiple RetryPolicies. The resulting RetryPolicy will return false if any of the policies return false. But the resulting RetryPolicy will return the sum of the sleep times of all policies.

<a name="Constant"></a>
### func Constant

```go
func Constant(interval time.Duration) RetryPolicy
```

Constant returns a RetryPolicy that always returns the same interval between retries.

Formula: interval

<a name="Exponential"></a>
### func Exponential

```go
func Exponential(interval time.Duration) RetryPolicy
```

Exponential returns a RetryPolicy that increases the interval between retries exponentially.

Formula: interval \* 2^fails

<a name="Jitter"></a>
### func Jitter

```go
func Jitter(interval time.Duration) RetryPolicy
```

Jitter returns a RetryPolicy that adds a random non\-negative jitter to the interval between retries.

Formula: interval \+ rand.Int63n\(interval\)

<a name="LimitCount"></a>
### func LimitCount

```go
func LimitCount(count int) RetryPolicy
```

LimitCount returns a RetryPolicy that limits the number of retries.

<a name="LimitTime"></a>
### func LimitTime

```go
func LimitTime(limit time.Duration) RetryPolicy
```

LimitTime returns a RetryPolicy that limits the total time spent on retries.

WARNING: Use context.WithTimeout instead of this function if you can\!

<a name="Linear"></a>
### func Linear

```go
func Linear(interval time.Duration) RetryPolicy
```

Linear returns a RetryPolicy that increases the interval between retries linearly.

Formula: interval \* fails

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
